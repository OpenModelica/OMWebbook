  
<!doctype html>
<head>
  <title>OMWEBbook</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="../jquery.min1.10.2.js"></script>
  <script src='../dygraph-combined.js'></script>
  <link rel="stylesheet" href="../bootstrap.min.css">
  <script src="../bootstrap.min.js"></script>
  <link rel="stylesheet" href="../codemirror.css">
 <script src="../codemirror.js"></script>
 <script src="../modelica.js"></script>
 <link rel="stylesheet" href="../custom.css">
  <script src="../autorefresh.js"></script>
  <script src="../evalnotebook.js"></script>
</head>


<body>
<div class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">OMWebBook</a>
    </div>
     <button id="evaluate" type="button" class="btn btn-success navbar-btn">Evaluate Cell</button>
    <button id="evaluateall" type="button" class="btn btn-success navbar-btn">Eval All</button>
    <img id="progressbar" src="../ajax-loader.gif" class="img-rounded" alt="Cinque Terre">
  </div>
</div>
<div class="container">
<br> <br> <br>

<h1>
Game of Life
</h1>
<h2>
1
Introduction
</h2>
<textarea id=check0textarea>
function firstGeneration
  input Integer M[:,:];
  input Integer I[:,2];
  output Integer G[size(M,1), size(M,1)] = M;
algorithm
 for i in 1:size(I,1) loop
      G[I[i,1], I[i,2]] := 1;
 end for;
end firstGeneration;
</textarea>  <div id=check0div> </div> <br>
<textarea id=check1textarea>
function nextGeneration
  input Integer M[:,:];
  output Integer G[size(M,1), size(M,1)];
  protected
  Integer iW, iE, jN, jS, borderSum;
  parameter Integer n = size(M,1);
algorithm
  for i in 1:n loop
    for j in 1:n loop
      iW := mod(i-2+n, n) + 1;
      iE := mod(i+n, n) + 1;
      jN := mod(j+n, n) + 1;
      jS := mod(j-2+n, n) + 1;
      borderSum := M[iW,j] + M[iE,j] + M[iW,jS] + M[i,jS] + M[iE,jS] + M[iW,jN] + M[i,jN] + M[iE,jN];
      if borderSum == 3 then
        G[i,j] := 1;
      elseif borderSum == 2 then
        G[i,j] := M[i,j];
      else G[i,j] := 0;
      end if;
    end for;
  end for;
end nextGeneration;
</textarea>  <div id=check1div> </div> <br>
<h2>
2
Game of Life
</h2>
<textarea id=check2textarea>
model GameOfLife
  parameter Integer n = 10;
  parameter Integer initialAlive[:,2] = {{2,2},{2,1},{1,2},{3,3},{3,2}};
  discrete Integer lifeHistory[n,n](start=zeros(n,n));
  Boolean init = initial();
equation
 when {init, sample(0.1,0.1)} then
   if edge(init) then
      lifeHistory = firstGeneration(pre(lifeHistory), initialAlive);
   else
     lifeHistory = nextGeneration(pre(lifeHistory));
   end if;
 end when;
end GameOfLife;
</textarea>  <div id=check2div> </div> <br>
<h3>
2.1
Animation of GameOfLife (to be done)
</h3>
<h3>
2.2
Simulation of GameOfLife
</h3>
<textarea id=check3textarea>
simulate( GameOfLife )
</textarea>  <div id=check3div> </div> <br>
<textarea id=check4textarea>
plot(lifeHistory[1,1])
</textarea> <br> <div id=check4div> </div> <br>
<script type="text/javascript">
g = new Dygraph(document.getElementById("check4div"),
  [[ 0.   ,  0.   ],
       [ 0.002,  0.   ],
       [ 0.004,  0.   ],
       [ 0.006,  0.   ],
       [ 0.008,  0.   ],
       [ 0.01 ,  0.   ],
       [ 0.012,  0.   ],
       [ 0.014,  0.   ],
       [ 0.016,  0.   ],
       [ 0.018,  0.   ],
       [ 0.02 ,  0.   ],
       [ 0.022,  0.   ],
       [ 0.024,  0.   ],
       [ 0.026,  0.   ],
       [ 0.028,  0.   ],
       [ 0.03 ,  0.   ],
       [ 0.032,  0.   ],
       [ 0.034,  0.   ],
       [ 0.036,  0.   ],
       [ 0.038,  0.   ],
       [ 0.04 ,  0.   ],
       [ 0.042,  0.   ],
       [ 0.044,  0.   ],
       [ 0.046,  0.   ],
       [ 0.048,  0.   ],
       [ 0.05 ,  0.   ],
       [ 0.052,  0.   ],
       [ 0.054,  0.   ],
       [ 0.056,  0.   ],
       [ 0.058,  0.   ],
       [ 0.06 ,  0.   ],
       [ 0.062,  0.   ],
       [ 0.064,  0.   ],
       [ 0.066,  0.   ],
       [ 0.068,  0.   ],
       [ 0.07 ,  0.   ],
       [ 0.072,  0.   ],
       [ 0.074,  0.   ],
       [ 0.076,  0.   ],
       [ 0.078,  0.   ],
       [ 0.08 ,  0.   ],
       [ 0.082,  0.   ],
       [ 0.084,  0.   ],
       [ 0.086,  0.   ],
       [ 0.088,  0.   ],
       [ 0.09 ,  0.   ],
       [ 0.092,  0.   ],
       [ 0.094,  0.   ],
       [ 0.096,  0.   ],
       [ 0.098,  0.   ],
       [ 0.1  ,  0.   ],
       [ 0.1  ,  0.   ],
       [ 0.102,  0.   ],
       [ 0.104,  0.   ],
       [ 0.106,  0.   ],
       [ 0.108,  0.   ],
       [ 0.11 ,  0.   ],
       [ 0.112,  0.   ],
       [ 0.114,  0.   ],
       [ 0.116,  0.   ],
       [ 0.118,  0.   ],
       [ 0.12 ,  0.   ],
       [ 0.122,  0.   ],
       [ 0.124,  0.   ],
       [ 0.126,  0.   ],
       [ 0.128,  0.   ],
       [ 0.13 ,  0.   ],
       [ 0.132,  0.   ],
       [ 0.134,  0.   ],
       [ 0.136,  0.   ],
       [ 0.138,  0.   ],
       [ 0.14 ,  0.   ],
       [ 0.142,  0.   ],
       [ 0.144,  0.   ],
       [ 0.146,  0.   ],
       [ 0.148,  0.   ],
       [ 0.15 ,  0.   ],
       [ 0.152,  0.   ],
       [ 0.154,  0.   ],
       [ 0.156,  0.   ],
       [ 0.158,  0.   ],
       [ 0.16 ,  0.   ],
       [ 0.162,  0.   ],
       [ 0.164,  0.   ],
       [ 0.166,  0.   ],
       [ 0.168,  0.   ],
       [ 0.17 ,  0.   ],
       [ 0.172,  0.   ],
       [ 0.174,  0.   ],
       [ 0.176,  0.   ],
       [ 0.178,  0.   ],
       [ 0.18 ,  0.   ],
       [ 0.182,  0.   ],
       [ 0.184,  0.   ],
       [ 0.186,  0.   ],
       [ 0.188,  0.   ],
       [ 0.19 ,  0.   ],
       [ 0.192,  0.   ],
       [ 0.194,  0.   ],
       [ 0.196,  0.   ],
       [ 0.198,  0.   ],
       [ 0.2  ,  0.   ],
       [ 0.2  ,  0.   ],
       [ 0.202,  0.   ],
       [ 0.204,  0.   ],
       [ 0.206,  0.   ],
       [ 0.208,  0.   ],
       [ 0.21 ,  0.   ],
       [ 0.212,  0.   ],
       [ 0.214,  0.   ],
       [ 0.216,  0.   ],
       [ 0.218,  0.   ],
       [ 0.22 ,  0.   ],
       [ 0.222,  0.   ],
       [ 0.224,  0.   ],
       [ 0.226,  0.   ],
       [ 0.228,  0.   ],
       [ 0.23 ,  0.   ],
       [ 0.232,  0.   ],
       [ 0.234,  0.   ],
       [ 0.236,  0.   ],
       [ 0.238,  0.   ],
       [ 0.24 ,  0.   ],
       [ 0.242,  0.   ],
       [ 0.244,  0.   ],
       [ 0.246,  0.   ],
       [ 0.248,  0.   ],
       [ 0.25 ,  0.   ],
       [ 0.252,  0.   ],
       [ 0.254,  0.   ],
       [ 0.256,  0.   ],
       [ 0.258,  0.   ],
       [ 0.26 ,  0.   ],
       [ 0.262,  0.   ],
       [ 0.264,  0.   ],
       [ 0.266,  0.   ],
       [ 0.268,  0.   ],
       [ 0.27 ,  0.   ],
       [ 0.272,  0.   ],
       [ 0.274,  0.   ],
       [ 0.276,  0.   ],
       [ 0.278,  0.   ],
       [ 0.28 ,  0.   ],
       [ 0.282,  0.   ],
       [ 0.284,  0.   ],
       [ 0.286,  0.   ],
       [ 0.288,  0.   ],
       [ 0.29 ,  0.   ],
       [ 0.292,  0.   ],
       [ 0.294,  0.   ],
       [ 0.296,  0.   ],
       [ 0.298,  0.   ],
       [ 0.3  ,  0.   ],
       [ 0.3  ,  0.   ],
       [ 0.302,  0.   ],
       [ 0.304,  0.   ],
       [ 0.306,  0.   ],
       [ 0.308,  0.   ],
       [ 0.31 ,  0.   ],
       [ 0.312,  0.   ],
       [ 0.314,  0.   ],
       [ 0.316,  0.   ],
       [ 0.318,  0.   ],
       [ 0.32 ,  0.   ],
       [ 0.322,  0.   ],
       [ 0.324,  0.   ],
       [ 0.326,  0.   ],
       [ 0.328,  0.   ],
       [ 0.33 ,  0.   ],
       [ 0.332,  0.   ],
       [ 0.334,  0.   ],
       [ 0.336,  0.   ],
       [ 0.338,  0.   ],
       [ 0.34 ,  0.   ],
       [ 0.342,  0.   ],
       [ 0.344,  0.   ],
       [ 0.346,  0.   ],
       [ 0.348,  0.   ],
       [ 0.35 ,  0.   ],
       [ 0.352,  0.   ],
       [ 0.354,  0.   ],
       [ 0.356,  0.   ],
       [ 0.358,  0.   ],
       [ 0.36 ,  0.   ],
       [ 0.362,  0.   ],
       [ 0.364,  0.   ],
       [ 0.366,  0.   ],
       [ 0.368,  0.   ],
       [ 0.37 ,  0.   ],
       [ 0.372,  0.   ],
       [ 0.374,  0.   ],
       [ 0.376,  0.   ],
       [ 0.378,  0.   ],
       [ 0.38 ,  0.   ],
       [ 0.382,  0.   ],
       [ 0.384,  0.   ],
       [ 0.386,  0.   ],
       [ 0.388,  0.   ],
       [ 0.39 ,  0.   ],
       [ 0.392,  0.   ],
       [ 0.394,  0.   ],
       [ 0.396,  0.   ],
       [ 0.398,  0.   ],
       [ 0.4  ,  0.   ],
       [ 0.4  ,  0.   ],
       [ 0.402,  0.   ],
       [ 0.404,  0.   ],
       [ 0.406,  0.   ],
       [ 0.408,  0.   ],
       [ 0.41 ,  0.   ],
       [ 0.412,  0.   ],
       [ 0.414,  0.   ],
       [ 0.416,  0.   ],
       [ 0.418,  0.   ],
       [ 0.42 ,  0.   ],
       [ 0.422,  0.   ],
       [ 0.424,  0.   ],
       [ 0.426,  0.   ],
       [ 0.428,  0.   ],
       [ 0.43 ,  0.   ],
       [ 0.432,  0.   ],
       [ 0.434,  0.   ],
       [ 0.436,  0.   ],
       [ 0.438,  0.   ],
       [ 0.44 ,  0.   ],
       [ 0.442,  0.   ],
       [ 0.444,  0.   ],
       [ 0.446,  0.   ],
       [ 0.448,  0.   ],
       [ 0.45 ,  0.   ],
       [ 0.452,  0.   ],
       [ 0.454,  0.   ],
       [ 0.456,  0.   ],
       [ 0.458,  0.   ],
       [ 0.46 ,  0.   ],
       [ 0.462,  0.   ],
       [ 0.464,  0.   ],
       [ 0.466,  0.   ],
       [ 0.468,  0.   ],
       [ 0.47 ,  0.   ],
       [ 0.472,  0.   ],
       [ 0.474,  0.   ],
       [ 0.476,  0.   ],
       [ 0.478,  0.   ],
       [ 0.48 ,  0.   ],
       [ 0.482,  0.   ],
       [ 0.484,  0.   ],
       [ 0.486,  0.   ],
       [ 0.488,  0.   ],
       [ 0.49 ,  0.   ],
       [ 0.492,  0.   ],
       [ 0.494,  0.   ],
       [ 0.496,  0.   ],
       [ 0.498,  0.   ],
       [ 0.5  ,  0.   ],
       [ 0.5  ,  0.   ],
       [ 0.502,  0.   ],
       [ 0.504,  0.   ],
       [ 0.506,  0.   ],
       [ 0.508,  0.   ],
       [ 0.51 ,  0.   ],
       [ 0.512,  0.   ],
       [ 0.514,  0.   ],
       [ 0.516,  0.   ],
       [ 0.518,  0.   ],
       [ 0.52 ,  0.   ],
       [ 0.522,  0.   ],
       [ 0.524,  0.   ],
       [ 0.526,  0.   ],
       [ 0.528,  0.   ],
       [ 0.53 ,  0.   ],
       [ 0.532,  0.   ],
       [ 0.534,  0.   ],
       [ 0.536,  0.   ],
       [ 0.538,  0.   ],
       [ 0.54 ,  0.   ],
       [ 0.542,  0.   ],
       [ 0.544,  0.   ],
       [ 0.546,  0.   ],
       [ 0.548,  0.   ],
       [ 0.55 ,  0.   ],
       [ 0.552,  0.   ],
       [ 0.554,  0.   ],
       [ 0.556,  0.   ],
       [ 0.558,  0.   ],
       [ 0.56 ,  0.   ],
       [ 0.562,  0.   ],
       [ 0.564,  0.   ],
       [ 0.566,  0.   ],
       [ 0.568,  0.   ],
       [ 0.57 ,  0.   ],
       [ 0.572,  0.   ],
       [ 0.574,  0.   ],
       [ 0.576,  0.   ],
       [ 0.578,  0.   ],
       [ 0.58 ,  0.   ],
       [ 0.582,  0.   ],
       [ 0.584,  0.   ],
       [ 0.586,  0.   ],
       [ 0.588,  0.   ],
       [ 0.59 ,  0.   ],
       [ 0.592,  0.   ],
       [ 0.594,  0.   ],
       [ 0.596,  0.   ],
       [ 0.598,  0.   ],
       [ 0.6  ,  0.   ],
       [ 0.6  ,  0.   ],
       [ 0.602,  0.   ],
       [ 0.604,  0.   ],
       [ 0.606,  0.   ],
       [ 0.608,  0.   ],
       [ 0.61 ,  0.   ],
       [ 0.612,  0.   ],
       [ 0.614,  0.   ],
       [ 0.616,  0.   ],
       [ 0.618,  0.   ],
       [ 0.62 ,  0.   ],
       [ 0.622,  0.   ],
       [ 0.624,  0.   ],
       [ 0.626,  0.   ],
       [ 0.628,  0.   ],
       [ 0.63 ,  0.   ],
       [ 0.632,  0.   ],
       [ 0.634,  0.   ],
       [ 0.636,  0.   ],
       [ 0.638,  0.   ],
       [ 0.64 ,  0.   ],
       [ 0.642,  0.   ],
       [ 0.644,  0.   ],
       [ 0.646,  0.   ],
       [ 0.648,  0.   ],
       [ 0.65 ,  0.   ],
       [ 0.652,  0.   ],
       [ 0.654,  0.   ],
       [ 0.656,  0.   ],
       [ 0.658,  0.   ],
       [ 0.66 ,  0.   ],
       [ 0.662,  0.   ],
       [ 0.664,  0.   ],
       [ 0.666,  0.   ],
       [ 0.668,  0.   ],
       [ 0.67 ,  0.   ],
       [ 0.672,  0.   ],
       [ 0.674,  0.   ],
       [ 0.676,  0.   ],
       [ 0.678,  0.   ],
       [ 0.68 ,  0.   ],
       [ 0.682,  0.   ],
       [ 0.684,  0.   ],
       [ 0.686,  0.   ],
       [ 0.688,  0.   ],
       [ 0.69 ,  0.   ],
       [ 0.692,  0.   ],
       [ 0.694,  0.   ],
       [ 0.696,  0.   ],
       [ 0.698,  0.   ],
       [ 0.7  ,  0.   ],
       [ 0.7  ,  0.   ],
       [ 0.702,  0.   ],
       [ 0.704,  0.   ],
       [ 0.706,  0.   ],
       [ 0.708,  0.   ],
       [ 0.71 ,  0.   ],
       [ 0.712,  0.   ],
       [ 0.714,  0.   ],
       [ 0.716,  0.   ],
       [ 0.718,  0.   ],
       [ 0.72 ,  0.   ],
       [ 0.722,  0.   ],
       [ 0.724,  0.   ],
       [ 0.726,  0.   ],
       [ 0.728,  0.   ],
       [ 0.73 ,  0.   ],
       [ 0.732,  0.   ],
       [ 0.734,  0.   ],
       [ 0.736,  0.   ],
       [ 0.738,  0.   ],
       [ 0.74 ,  0.   ],
       [ 0.742,  0.   ],
       [ 0.744,  0.   ],
       [ 0.746,  0.   ],
       [ 0.748,  0.   ],
       [ 0.75 ,  0.   ],
       [ 0.752,  0.   ],
       [ 0.754,  0.   ],
       [ 0.756,  0.   ],
       [ 0.758,  0.   ],
       [ 0.76 ,  0.   ],
       [ 0.762,  0.   ],
       [ 0.764,  0.   ],
       [ 0.766,  0.   ],
       [ 0.768,  0.   ],
       [ 0.77 ,  0.   ],
       [ 0.772,  0.   ],
       [ 0.774,  0.   ],
       [ 0.776,  0.   ],
       [ 0.778,  0.   ],
       [ 0.78 ,  0.   ],
       [ 0.782,  0.   ],
       [ 0.784,  0.   ],
       [ 0.786,  0.   ],
       [ 0.788,  0.   ],
       [ 0.79 ,  0.   ],
       [ 0.792,  0.   ],
       [ 0.794,  0.   ],
       [ 0.796,  0.   ],
       [ 0.798,  0.   ],
       [ 0.8  ,  0.   ],
       [ 0.8  ,  0.   ],
       [ 0.802,  0.   ],
       [ 0.804,  0.   ],
       [ 0.806,  0.   ],
       [ 0.808,  0.   ],
       [ 0.81 ,  0.   ],
       [ 0.812,  0.   ],
       [ 0.814,  0.   ],
       [ 0.816,  0.   ],
       [ 0.818,  0.   ],
       [ 0.82 ,  0.   ],
       [ 0.822,  0.   ],
       [ 0.824,  0.   ],
       [ 0.826,  0.   ],
       [ 0.828,  0.   ],
       [ 0.83 ,  0.   ],
       [ 0.832,  0.   ],
       [ 0.834,  0.   ],
       [ 0.836,  0.   ],
       [ 0.838,  0.   ],
       [ 0.84 ,  0.   ],
       [ 0.842,  0.   ],
       [ 0.844,  0.   ],
       [ 0.846,  0.   ],
       [ 0.848,  0.   ],
       [ 0.85 ,  0.   ],
       [ 0.852,  0.   ],
       [ 0.854,  0.   ],
       [ 0.856,  0.   ],
       [ 0.858,  0.   ],
       [ 0.86 ,  0.   ],
       [ 0.862,  0.   ],
       [ 0.864,  0.   ],
       [ 0.866,  0.   ],
       [ 0.868,  0.   ],
       [ 0.87 ,  0.   ],
       [ 0.872,  0.   ],
       [ 0.874,  0.   ],
       [ 0.876,  0.   ],
       [ 0.878,  0.   ],
       [ 0.88 ,  0.   ],
       [ 0.882,  0.   ],
       [ 0.884,  0.   ],
       [ 0.886,  0.   ],
       [ 0.888,  0.   ],
       [ 0.89 ,  0.   ],
       [ 0.892,  0.   ],
       [ 0.894,  0.   ],
       [ 0.896,  0.   ],
       [ 0.898,  0.   ],
       [ 0.9  ,  0.   ],
       [ 0.9  ,  0.   ],
       [ 0.902,  0.   ],
       [ 0.904,  0.   ],
       [ 0.906,  0.   ],
       [ 0.908,  0.   ],
       [ 0.91 ,  0.   ],
       [ 0.912,  0.   ],
       [ 0.914,  0.   ],
       [ 0.916,  0.   ],
       [ 0.918,  0.   ],
       [ 0.92 ,  0.   ],
       [ 0.922,  0.   ],
       [ 0.924,  0.   ],
       [ 0.926,  0.   ],
       [ 0.928,  0.   ],
       [ 0.93 ,  0.   ],
       [ 0.932,  0.   ],
       [ 0.934,  0.   ],
       [ 0.936,  0.   ],
       [ 0.938,  0.   ],
       [ 0.94 ,  0.   ],
       [ 0.942,  0.   ],
       [ 0.944,  0.   ],
       [ 0.946,  0.   ],
       [ 0.948,  0.   ],
       [ 0.95 ,  0.   ],
       [ 0.952,  0.   ],
       [ 0.954,  0.   ],
       [ 0.956,  0.   ],
       [ 0.958,  0.   ],
       [ 0.96 ,  0.   ],
       [ 0.962,  0.   ],
       [ 0.964,  0.   ],
       [ 0.966,  0.   ],
       [ 0.968,  0.   ],
       [ 0.97 ,  0.   ],
       [ 0.972,  0.   ],
       [ 0.974,  0.   ],
       [ 0.976,  0.   ],
       [ 0.978,  0.   ],
       [ 0.98 ,  0.   ],
       [ 0.982,  0.   ],
       [ 0.984,  0.   ],
       [ 0.986,  0.   ],
       [ 0.988,  0.   ],
       [ 0.99 ,  0.   ],
       [ 0.992,  0.   ],
       [ 0.994,  0.   ],
       [ 0.996,  0.   ],
       [ 0.998,  0.   ],
       [ 1.   ,  0.   ],
       [ 1.   ,  0.   ],
       [ 1.002,  0.   ],
       [ 1.002,  0.   ]] 
,
{
legend:"always",
labels:
['Time', 'lifeHistory[1,1]']
}
)
</script>
<h3>
2.3
Test of GameOfLife
</h3>
<textarea id=check5textarea>
model test1
  GameOfLife g(initialAlive = {{1,1},{2,2},{3,3},{4,4},{5,5},{6,6},{7,7},{8,8},{9,9},{10,10},
  {1,10},{2,9},{3,8},{4,7},{5,6},{6,5},{7,4},{8,3},{9,2},{10,1}});
end test1;
</textarea>  <div id=check5div> </div> <br>
<h3>
2.4
Simulation of test1
</h3>
<textarea id=check6textarea>
simulate( test1 )
</textarea>  <div id=check6div> </div> <br>
<textarea id=check7textarea>
plot({g.lifeHistory[1,1],g.initialAlive[5,1]})
</textarea> <br> <div id=check7div> </div> <br>
<script type="text/javascript">
g = new Dygraph(document.getElementById("check7div"),
ValueError
,
{
legend:"always",
labels:
['Time', 'g.initialAlive[5,1]', 'g.lifeHistory[1,1]']
}
)
</script>
</div></body></html>