  
<!doctype html>
<head>
  <title>OMWEBbook</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="../jquery.min1.10.2.js"></script>
  <script src='../dygraph-combined.js'></script>
  <link rel="stylesheet" href="../bootstrap.min.css">
  <script src="../bootstrap.min.js"></script>
  <link rel="stylesheet" href="../codemirror.css">
 <script src="../codemirror.js"></script>
 <script src="../modelica.js"></script>
 <link rel="stylesheet" href="../custom.css">
  <script src="../autorefresh.js"></script>
  <script src="../evalnotebook.js"></script>
</head>


<body>
<div class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">OMWebBook</a>
    </div>
     <button id="evaluate" type="button" class="btn btn-success navbar-btn">Evaluate Cell</button>
    <button id="evaluateall" type="button" class="btn btn-success navbar-btn">Eval All</button>
    <img id="progressbar" src="../ajax-loader.gif" class="img-rounded" alt="Cinque Terre">
  </div>
</div>
<div class="container">
<br> <br> <br>

<h1>
Interfacing to Non-Mechanical Model Components
</h1>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"><br/>When a multidomain model in Modelica is designed, the mechanical part of the model physically interacts with some other parts of the model. The mechanical part should usually be connected with the part describing the drive train, which is in turn connected to the part describing the energy source, e.g. electrical circuit. There are standard Modelica libraries for all these components. <br/><br/>However, sometimes the attention is focused on an isolated mechanical part of the model. In this case the reference positions as well as forces and torques acting on the model can be specified directly. <br/><br/>There exist three major ways to set up an interface between the mechanical part of Modelica model and other parts. These ways correspond to three connector types: </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">Multiboby.Interfaces.Frame, Rotational.Interfaces.Flange</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> and </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">Translational.Interfaces.Flange</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">. </span></p><br>
<h2>
1
Using Multibody.Interfaces.Frame
</h2>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">Any object with connector of type </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">Frame_a</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> or </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">Frame_b</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> can be connected to a model of external force or torque. This external force (or torque) will be applied to the corresponding point on the relevant body. The example below includes a force acting on the end of the pendulum in direction of the local Y-axis (perpendicular to the pendulum bar). When force is attached to the pendulum it does not oscillate;  it rotates instead.<br/></span></p><br>
<textarea id=check0textarea>
model ExtForcePendulum
   import Modelica.Mechanics.MultiBody.Parts;
   import Modelica.Mechanics.MultiBody.Joints;
   import Modelica.Mechanics.MultiBody.Forces;
   import Modelica.Mechanics.MultiBody.Frames;
   import Modelica.Blocks.Sources;
   inner Modelica.Mechanics.MultiBody.World world;
   Joints.Revolute revolute1;
   Parts.BodyCylinder body1(r={1,0,0},diameter=0.2);
   Forces.WorldForce worldForce1;
   Sources.Constant constant1(k={0,1190,0});
equation
   connect(world.frame_b, revolute1.frame_a);
   connect(revolute1.frame_b, body1.frame_a);
   connect(body1.frame_b, worldForce1.frame_b);
   worldForce1.force = Frames.resolve1(worldForce1.frame_b.R,constant1.y);
end ExtForcePendulum;
  
</textarea>  <div id=check0div> </div> <br>
<textarea id=check1textarea>
loadModel(Modelica)
</textarea>  <div id=check1div> </div> <br>
<textarea id=check2textarea>
simulate(ExtForcePendulum)
</textarea>  <div id=check2div> </div> <br>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"><br/>Sometimes it is necessary to specify external force in global coordinates. One connect statement should be replaced by equation (see below). The input signal </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">ExtForce</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> object is adjusted according to the orientation matrix </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">S</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> of the </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">ExtForce</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> frame. When such constant force (in direction of vector {1,1,0} in the global coordinate system) is applied to the pendulum, it oscillates near the equilibrium point.<br/></span></p><br>
<h2>
2
Using Rotational.Interfaces.Flange
</h2>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">The </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">Rotational</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> library describes varius elements for one-dimensional rotational motion. These elements can be attached to the Revolute joint from </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">MultiBody</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> library. A torque, spring, damper or any other component can be attached to the flanges of the revolute joint. The example below illustrates a one-dimensional spring and damper (from </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">Rotational</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> library) attached to the revolute joint of a simple pendulum.<br/></span></p><br>
<textarea id=check3textarea>
model PendulumWithDampedSpring
   import Modelica.Mechanics.MultiBody.Parts;
   import Modelica.Mechanics.MultiBody.Joints;
   import Modelica.Mechanics.MultiBody.Forces;
   import Modelica.Blocks.Sources;
   import Modelica.Mechanics.Rotational;
   inner Modelica.Mechanics.MultiBody.World world;
   Parts.BodyCylinder body1(r={1,0,0},diameter=0.2);
   Joints.Revolute revolute1;
   Rotational.Components.SpringDamper springDamper1(c=500,phi_rel0=1,d=170);
equation
   connect(world.frame_b, revolute1.frame_a);
   connect(springDamper1.flange_a, revolute1.support);
   connect(springDamper1.flange_b, revolute1.axis);
   connect(revolute1.frame_b, body1.frame_a);
end PendulumWithDampedSpring;
</textarea>  <div id=check3div> </div> <br>
<textarea id=check4textarea>
loadModel(Modelica)
</textarea>  <div id=check4div> </div> <br>
<textarea id=check5textarea>
simulate(PendulumWithDampedSpring, stopTime=3)
</textarea>  <div id=check5div> </div> <br>
<h2>
3
Pendulum with Rotational Angle Steering
</h2>
<p align="justify" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">Sometimes there is a need to rotate the body connected to the joint to a certain desired angular position.This can be done by the use of an instance of the class Rotational.Position. In the example pendulum with rotation angle steering, the specified value of the angle is given by the step1 instance of the Step signal source from the Modelica.Block.Sources sublibrary. This value is converted to an angular position by the position1 component. In class Position the reference angle is filtered and the second derivative of the filtered curve is used to compute the reference acceleration of the flange. Angular position of the joint is computed from this acceleration. For filtering, a second order Bessel filter is used. The critical frequency (also called cut-off frequency) of the filter is defined via parameter f_crit in [Hz]. This value should be selected in such a way that it is higher as the essential low frequencies in the signal.</span></p><br>
<textarea id=check6textarea>
model PendulumRotationalSteering
  import Modelica.Mechanics.MultiBody.Parts;
  import Modelica.Mechanics.MultiBody.Joints;
  import Modelica.Blocks.Sources;
  import Modelica.Mechanics.Rotational;
  inner Modelica.Mechanics.MultiBody.World world;
  Parts.BodyCylinder body1(r={1,0,0});
  Joints.Revolute revolute1;
  Sources.Step step1(startTime=0.5);
  Rotational.Sources.Position position1(f_crit=5); // Filter cut-off f_crit
equation
  connect(revolute1.frame_b, body1.frame_a);
  connect(world.frame_b, revolute1.frame_a);
  connect(step1.y, position1.phi_ref);
  connect(position1.flange_b, revolute1.axis); // Connect position1 to axis
end PendulumRotationalSteering;
</textarea>  <div id=check6div> </div> <br>
<textarea id=check7textarea>
loadModel(Modelica)
</textarea>  <div id=check7div> </div> <br>
<textarea id=check8textarea>
simulate(PendulumRotationalSteering)
</textarea>  <div id=check8div> </div> <br>
<textarea id=check9textarea>
plot(body1.frame_b.r_0[2])
</textarea> <br> <div id=check9div> </div> <br>
<script type="text/javascript">
g = new Dygraph(document.getElementById("check9div"),
  [[  0.00000000e+00,   0.00000000e+00],
       [  2.00000000e-03,  -2.94162122e-05],
       [  4.00000000e-03,  -1.17664845e-04],
       [  6.00000000e-03,  -2.64745894e-04],
       [  8.00000000e-03,  -4.70659346e-04],
       [  1.00000000e-02,  -7.35405112e-04],
       [  1.20000000e-02,  -1.05898309e-03],
       [  1.40000000e-02,  -1.44139321e-03],
       [  1.60000000e-02,  -1.88263536e-03],
       [  1.80000000e-02,  -2.38270924e-03],
       [  2.00000000e-02,  -2.94161377e-03],
       [  2.20000000e-02,  -3.55934904e-03],
       [  2.40000000e-02,  -4.23591444e-03],
       [  2.60000000e-02,  -4.97130919e-03],
       [  2.80000000e-02,  -5.76553070e-03],
       [  3.00000000e-02,  -6.61857756e-03],
       [  3.20000000e-02,  -7.53044896e-03],
       [  3.40000000e-02,  -8.50114301e-03],
       [  3.60000000e-02,  -9.53065647e-03],
       [  3.80000000e-02,  -1.06189819e-02],
       [  4.00000000e-02,  -1.17661194e-02],
       [  4.20000000e-02,  -1.29720653e-02],
       [  4.40000000e-02,  -1.42368150e-02],
       [  4.60000000e-02,  -1.55603592e-02],
       [  4.80000000e-02,  -1.69426914e-02],
       [  5.00000000e-02,  -1.83838054e-02],
       [  5.20000000e-02,  -1.98836930e-02],
       [  5.40000000e-02,  -2.14423432e-02],
       [  5.60000000e-02,  -2.30597398e-02],
       [  5.80000000e-02,  -2.47358739e-02],
       [  6.00000000e-02,  -2.64707320e-02],
       [  6.20000000e-02,  -2.82642994e-02],
       [  6.40000000e-02,  -3.01165543e-02],
       [  6.60000000e-02,  -3.20274794e-02],
       [  6.80000000e-02,  -3.39970557e-02],
       [  7.00000000e-02,  -3.60252616e-02],
       [  7.20000000e-02,  -3.81120700e-02],
       [  7.40000000e-02,  -4.02574478e-02],
       [  7.60000000e-02,  -4.24613711e-02],
       [  7.80000000e-02,  -4.47238091e-02],
       [  8.00000000e-02,  -4.70447291e-02],
       [  8.20000000e-02,  -4.94240822e-02],
       [  8.40000000e-02,  -5.18618341e-02],
       [  8.60000000e-02,  -5.43579438e-02],
       [  8.80000000e-02,  -5.69123668e-02],
       [  9.00000000e-02,  -5.95250497e-02],
       [  9.20000000e-02,  -6.21959324e-02],
       [  9.40000000e-02,  -6.49249625e-02],
       [  9.60000000e-02,  -6.77120791e-02],
       [  9.80000000e-02,  -7.05572171e-02],
       [  1.00000000e-01,  -7.34603079e-02],
       [  1.02000000e-01,  -7.64212784e-02],
       [  1.04000000e-01,  -7.94400514e-02],
       [  1.06000000e-01,  -8.25165451e-02],
       [  1.08000000e-01,  -8.56506647e-02],
       [  1.10000000e-01,  -8.88423137e-02],
       [  1.12000000e-01,  -9.20914005e-02],
       [  1.14000000e-01,  -9.53978223e-02],
       [  1.16000000e-01,  -9.87614706e-02],
       [  1.18000000e-01,  -1.02182232e-01],
       [  1.20000000e-01,  -1.05659986e-01],
       [  1.22000000e-01,  -1.09194608e-01],
       [  1.24000000e-01,  -1.12785952e-01],
       [  1.26000000e-01,  -1.16433872e-01],
       [  1.28000000e-01,  -1.20138231e-01],
       [  1.30000000e-01,  -1.23898876e-01],
       [  1.32000000e-01,  -1.27715646e-01],
       [  1.34000000e-01,  -1.31588375e-01],
       [  1.36000000e-01,  -1.35516887e-01],
       [  1.38000000e-01,  -1.39500992e-01],
       [  1.40000000e-01,  -1.43540478e-01],
       [  1.42000000e-01,  -1.47635161e-01],
       [  1.44000000e-01,  -1.51784830e-01],
       [  1.46000000e-01,  -1.55989269e-01],
       [  1.48000000e-01,  -1.60248252e-01],
       [  1.50000000e-01,  -1.64561543e-01],
       [  1.52000000e-01,  -1.68928895e-01],
       [  1.54000000e-01,  -1.73350020e-01],
       [  1.56000000e-01,  -1.77824673e-01],
       [  1.58000000e-01,  -1.82352578e-01],
       [  1.60000000e-01,  -1.86933449e-01],
       [  1.62000000e-01,  -1.91566987e-01],
       [  1.64000000e-01,  -1.96252887e-01],
       [  1.66000000e-01,  -2.00990830e-01],
       [  1.68000000e-01,  -2.05780457e-01],
       [  1.70000000e-01,  -2.10621437e-01],
       [  1.72000000e-01,  -2.15513419e-01],
       [  1.74000000e-01,  -2.20456036e-01],
       [  1.76000000e-01,  -2.25448909e-01],
       [  1.78000000e-01,  -2.30491648e-01],
       [  1.80000000e-01,  -2.35583849e-01],
       [  1.82000000e-01,  -2.40725076e-01],
       [  1.84000000e-01,  -2.45914896e-01],
       [  1.86000000e-01,  -2.51152874e-01],
       [  1.88000000e-01,  -2.56438551e-01],
       [  1.90000000e-01,  -2.61771455e-01],
       [  1.92000000e-01,  -2.67151101e-01],
       [  1.94000000e-01,  -2.72576990e-01],
       [  1.96000000e-01,  -2.78048594e-01],
       [  1.98000000e-01,  -2.83565367e-01],
       [  2.00000000e-01,  -2.89126779e-01],
       [  2.02000000e-01,  -2.94732269e-01],
       [  2.04000000e-01,  -3.00381261e-01],
       [  2.06000000e-01,  -3.06073165e-01],
       [  2.08000000e-01,  -3.11807374e-01],
       [  2.10000000e-01,  -3.17583261e-01],
       [  2.12000000e-01,  -3.23400161e-01],
       [  2.14000000e-01,  -3.29257433e-01],
       [  2.16000000e-01,  -3.35154403e-01],
       [  2.18000000e-01,  -3.41090379e-01],
       [  2.20000000e-01,  -3.47064652e-01],
       [  2.22000000e-01,  -3.53076498e-01],
       [  2.24000000e-01,  -3.59125172e-01],
       [  2.26000000e-01,  -3.65209915e-01],
       [  2.28000000e-01,  -3.71329948e-01],
       [  2.30000000e-01,  -3.77484475e-01],
       [  2.32000000e-01,  -3.83672685e-01],
       [  2.34000000e-01,  -3.89893744e-01],
       [  2.36000000e-01,  -3.96146804e-01],
       [  2.38000000e-01,  -4.02430996e-01],
       [  2.40000000e-01,  -4.08745436e-01],
       [  2.42000000e-01,  -4.15089220e-01],
       [  2.44000000e-01,  -4.21461424e-01],
       [  2.46000000e-01,  -4.27861108e-01],
       [  2.48000000e-01,  -4.34287312e-01],
       [  2.50000000e-01,  -4.40739058e-01],
       [  2.52000000e-01,  -4.47215350e-01],
       [  2.54000000e-01,  -4.53715173e-01],
       [  2.56000000e-01,  -4.60237495e-01],
       [  2.58000000e-01,  -4.66781262e-01],
       [  2.60000000e-01,  -4.73345403e-01],
       [  2.62000000e-01,  -4.79928830e-01],
       [  2.64000000e-01,  -4.86530435e-01],
       [  2.66000000e-01,  -4.93149092e-01],
       [  2.68000000e-01,  -4.99783656e-01],
       [  2.70000000e-01,  -5.06432965e-01],
       [  2.72000000e-01,  -5.13095838e-01],
       [  2.74000000e-01,  -5.19771077e-01],
       [  2.76000000e-01,  -5.26457463e-01],
       [  2.78000000e-01,  -5.33153763e-01],
       [  2.80000000e-01,  -5.39858724e-01],
       [  2.82000000e-01,  -5.46571076e-01],
       [  2.84000000e-01,  -5.53289534e-01],
       [  2.86000000e-01,  -5.60012791e-01],
       [  2.88000000e-01,  -5.66739528e-01],
       [  2.90000000e-01,  -5.73468406e-01],
       [  2.92000000e-01,  -5.80198072e-01],
       [  2.94000000e-01,  -5.86927153e-01],
       [  2.96000000e-01,  -5.93654265e-01],
       [  2.98000000e-01,  -6.00378008e-01],
       [  3.00000000e-01,  -6.07096963e-01],
       [  3.02000000e-01,  -6.13809698e-01],
       [  3.04000000e-01,  -6.20514768e-01],
       [  3.06000000e-01,  -6.27210709e-01],
       [  3.08000000e-01,  -6.33896049e-01],
       [  3.10000000e-01,  -6.40569299e-01],
       [  3.12000000e-01,  -6.47228959e-01],
       [  3.14000000e-01,  -6.53873515e-01],
       [  3.16000000e-01,  -6.60501442e-01],
       [  3.18000000e-01,  -6.67111202e-01],
       [  3.20000000e-01,  -6.73701244e-01],
       [  3.22000000e-01,  -6.80270010e-01],
       [  3.24000000e-01,  -6.86815930e-01],
       [  3.26000000e-01,  -6.93337425e-01],
       [  3.28000000e-01,  -6.99832908e-01],
       [  3.30000000e-01,  -7.06300781e-01],
       [  3.32000000e-01,  -7.12739438e-01],
       [  3.34000000e-01,  -7.19147266e-01],
       [  3.36000000e-01,  -7.25522647e-01],
       [  3.38000000e-01,  -7.31863953e-01],
       [  3.40000000e-01,  -7.38169554e-01],
       [  3.42000000e-01,  -7.44437817e-01],
       [  3.44000000e-01,  -7.50667100e-01],
       [  3.46000000e-01,  -7.56855759e-01],
       [  3.48000000e-01,  -7.63002147e-01],
       [  3.50000000e-01,  -7.69104615e-01],
       [  3.52000000e-01,  -7.75161512e-01],
       [  3.54000000e-01,  -7.81171187e-01],
       [  3.56000000e-01,  -7.87131995e-01],
       [  3.58000000e-01,  -7.93042282e-01],
       [  3.60000000e-01,  -7.98900399e-01],
       [  3.62000000e-01,  -8.04704701e-01],
       [  3.64000000e-01,  -8.10453544e-01],
       [  3.66000000e-01,  -8.16145289e-01],
       [  3.68000000e-01,  -8.21778303e-01],
       [  3.70000000e-01,  -8.27350959e-01],
       [  3.72000000e-01,  -8.32861636e-01],
       [  3.74000000e-01,  -8.38308716e-01],
       [  3.76000000e-01,  -8.43690594e-01],
       [  3.78000000e-01,  -8.49005672e-01],
       [  3.80000000e-01,  -8.54252361e-01],
       [  3.82000000e-01,  -8.59429084e-01],
       [  3.84000000e-01,  -8.64534277e-01],
       [  3.86000000e-01,  -8.69566387e-01],
       [  3.88000000e-01,  -8.74523874e-01],
       [  3.90000000e-01,  -8.79405210e-01],
       [  3.92000000e-01,  -8.84208885e-01],
       [  3.94000000e-01,  -8.88933403e-01],
       [  3.96000000e-01,  -8.93577285e-01],
       [  3.98000000e-01,  -8.98139071e-01],
       [  4.00000000e-01,  -9.02617321e-01],
       [  4.02000000e-01,  -9.07010610e-01],
       [  4.04000000e-01,  -9.11317534e-01],
       [  4.06000000e-01,  -9.15536711e-01],
       [  4.08000000e-01,  -9.19666780e-01],
       [  4.10000000e-01,  -9.23706404e-01],
       [  4.12000000e-01,  -9.27654268e-01],
       [  4.14000000e-01,  -9.31509085e-01],
       [  4.16000000e-01,  -9.35269589e-01],
       [  4.18000000e-01,  -9.38934539e-01],
       [  4.20000000e-01,  -9.42502725e-01],
       [  4.22000000e-01,  -9.45972960e-01],
       [  4.24000000e-01,  -9.49344088e-01],
       [  4.26000000e-01,  -9.52614982e-01],
       [  4.28000000e-01,  -9.55784544e-01],
       [  4.30000000e-01,  -9.58851708e-01],
       [  4.32000000e-01,  -9.61815435e-01],
       [  4.34000000e-01,  -9.64674722e-01],
       [  4.36000000e-01,  -9.67428596e-01],
       [  4.38000000e-01,  -9.70076117e-01],
       [  4.40000000e-01,  -9.72616381e-01],
       [  4.42000000e-01,  -9.75048518e-01],
       [  4.44000000e-01,  -9.77371690e-01],
       [  4.46000000e-01,  -9.79585098e-01],
       [  4.48000000e-01,  -9.81687977e-01],
       [  4.50000000e-01,  -9.83679599e-01],
       [  4.52000000e-01,  -9.85559273e-01],
       [  4.54000000e-01,  -9.87326345e-01],
       [  4.56000000e-01,  -9.88980202e-01],
       [  4.58000000e-01,  -9.90520265e-01],
       [  4.60000000e-01,  -9.91945997e-01],
       [  4.62000000e-01,  -9.93256900e-01],
       [  4.64000000e-01,  -9.94452513e-01],
       [  4.66000000e-01,  -9.95532417e-01],
       [  4.68000000e-01,  -9.96496232e-01],
       [  4.70000000e-01,  -9.97343621e-01],
       [  4.72000000e-01,  -9.98074286e-01],
       [  4.74000000e-01,  -9.98687968e-01],
       [  4.76000000e-01,  -9.99184451e-01],
       [  4.78000000e-01,  -9.99563560e-01],
       [  4.80000000e-01,  -9.99825163e-01],
       [  4.82000000e-01,  -9.99969165e-01],
       [  4.84000000e-01,  -9.99995517e-01],
       [  4.86000000e-01,  -9.99904209e-01],
       [  4.88000000e-01,  -9.99695274e-01],
       [  4.90000000e-01,  -9.99368785e-01],
       [  4.92000000e-01,  -9.98924857e-01],
       [  4.94000000e-01,  -9.98363647e-01],
       [  4.96000000e-01,  -9.97685353e-01],
       [  4.98000000e-01,  -9.96890214e-01],
       [  5.00000000e-01,  -9.95978509e-01],
       [  5.00000000e-01,  -9.95978509e-01],
       [  5.00000000e-01,  -9.95978509e-01],
       [  5.02000000e-01,  -9.94950560e-01],
       [  5.04000000e-01,  -9.93806727e-01],
       [  5.06000000e-01,  -9.92547412e-01],
       [  5.08000000e-01,  -9.91173057e-01],
       [  5.10000000e-01,  -9.89684142e-01],
       [  5.12000000e-01,  -9.88081188e-01],
       [  5.14000000e-01,  -9.86364755e-01],
       [  5.16000000e-01,  -9.84535441e-01],
       [  5.18000000e-01,  -9.82593882e-01],
       [  5.20000000e-01,  -9.80540752e-01],
       [  5.22000000e-01,  -9.78376762e-01],
       [  5.24000000e-01,  -9.76102661e-01],
       [  5.26000000e-01,  -9.73719233e-01],
       [  5.28000000e-01,  -9.71227298e-01],
       [  5.30000000e-01,  -9.68627711e-01],
       [  5.32000000e-01,  -9.65921364e-01],
       [  5.34000000e-01,  -9.63109178e-01],
       [  5.36000000e-01,  -9.60192113e-01],
       [  5.38000000e-01,  -9.57171158e-01],
       [  5.40000000e-01,  -9.54047336e-01],
       [  5.42000000e-01,  -9.50821699e-01],
       [  5.44000000e-01,  -9.47495333e-01],
       [  5.46000000e-01,  -9.44069352e-01],
       [  5.48000000e-01,  -9.40544900e-01],
       [  5.50000000e-01,  -9.36923149e-01],
       [  5.52000000e-01,  -9.33205298e-01],
       [  5.54000000e-01,  -9.29392576e-01],
       [  5.56000000e-01,  -9.25486235e-01],
       [  5.58000000e-01,  -9.21487554e-01],
       [  5.60000000e-01,  -9.17397838e-01],
       [  5.62000000e-01,  -9.13218412e-01],
       [  5.64000000e-01,  -9.08950627e-01],
       [  5.66000000e-01,  -9.04595856e-01],
       [  5.68000000e-01,  -9.00155493e-01],
       [  5.70000000e-01,  -8.95630952e-01],
       [  5.72000000e-01,  -8.91023666e-01],
       [  5.74000000e-01,  -8.86335089e-01],
       [  5.76000000e-01,  -8.81566692e-01],
       [  5.78000000e-01,  -8.76719962e-01],
       [  5.80000000e-01,  -8.71796403e-01],
       [  5.82000000e-01,  -8.66797535e-01],
       [  5.84000000e-01,  -8.61724891e-01],
       [  5.86000000e-01,  -8.56580019e-01],
       [  5.88000000e-01,  -8.51364480e-01],
       [  5.90000000e-01,  -8.46079845e-01],
       [  5.92000000e-01,  -8.40727697e-01],
       [  5.94000000e-01,  -8.35309631e-01],
       [  5.96000000e-01,  -8.29827248e-01],
       [  5.98000000e-01,  -8.24282159e-01],
       [  6.00000000e-01,  -8.18675985e-01],
       [  6.02000000e-01,  -8.13010349e-01],
       [  6.04000000e-01,  -8.07286884e-01],
       [  6.06000000e-01,  -8.01507226e-01],
       [  6.08000000e-01,  -7.95673017e-01],
       [  6.10000000e-01,  -7.89785902e-01],
       [  6.12000000e-01,  -7.83847526e-01],
       [  6.14000000e-01,  -7.77859540e-01],
       [  6.16000000e-01,  -7.71823594e-01],
       [  6.18000000e-01,  -7.65741339e-01],
       [  6.20000000e-01,  -7.59614426e-01],
       [  6.22000000e-01,  -7.53444503e-01],
       [  6.24000000e-01,  -7.47233219e-01],
       [  6.26000000e-01,  -7.40982219e-01],
       [  6.28000000e-01,  -7.34693144e-01],
       [  6.30000000e-01,  -7.28367633e-01],
       [  6.32000000e-01,  -7.22007318e-01],
       [  6.34000000e-01,  -7.15613828e-01],
       [  6.36000000e-01,  -7.09188786e-01],
       [  6.38000000e-01,  -7.02733806e-01],
       [  6.40000000e-01,  -6.96250497e-01],
       [  6.42000000e-01,  -6.89740461e-01],
       [  6.44000000e-01,  -6.83205289e-01],
       [  6.46000000e-01,  -6.76646566e-01],
       [  6.48000000e-01,  -6.70065864e-01],
       [  6.50000000e-01,  -6.63464749e-01],
       [  6.52000000e-01,  -6.56844774e-01],
       [  6.54000000e-01,  -6.50207482e-01],
       [  6.56000000e-01,  -6.43554403e-01],
       [  6.58000000e-01,  -6.36887057e-01],
       [  6.60000000e-01,  -6.30206951e-01],
       [  6.62000000e-01,  -6.23515579e-01],
       [  6.64000000e-01,  -6.16814420e-01],
       [  6.66000000e-01,  -6.10104943e-01],
       [  6.68000000e-01,  -6.03388600e-01],
       [  6.70000000e-01,  -5.96666829e-01],
       [  6.72000000e-01,  -5.89941055e-01],
       [  6.74000000e-01,  -5.83212685e-01],
       [  6.76000000e-01,  -5.76483113e-01],
       [  6.78000000e-01,  -5.69753716e-01],
       [  6.80000000e-01,  -5.63025856e-01],
       [  6.82000000e-01,  -5.56300878e-01],
       [  6.84000000e-01,  -5.49580110e-01],
       [  6.86000000e-01,  -5.42864865e-01],
       [  6.88000000e-01,  -5.36156436e-01],
       [  6.90000000e-01,  -5.29456101e-01],
       [  6.92000000e-01,  -5.22765121e-01],
       [  6.94000000e-01,  -5.16084739e-01],
       [  6.96000000e-01,  -5.09416178e-01],
       [  6.98000000e-01,  -5.02760647e-01],
       [  7.00000000e-01,  -4.96119333e-01],
       [  7.02000000e-01,  -4.89493409e-01],
       [  7.04000000e-01,  -4.82884026e-01],
       [  7.06000000e-01,  -4.76292318e-01],
       [  7.08000000e-01,  -4.69719403e-01],
       [  7.10000000e-01,  -4.63166376e-01],
       [  7.12000000e-01,  -4.56634318e-01],
       [  7.14000000e-01,  -4.50124289e-01],
       [  7.16000000e-01,  -4.43637330e-01],
       [  7.18000000e-01,  -4.37174464e-01],
       [  7.20000000e-01,  -4.30736697e-01],
       [  7.22000000e-01,  -4.24325015e-01],
       [  7.24000000e-01,  -4.17940385e-01],
       [  7.26000000e-01,  -4.11583756e-01],
       [  7.28000000e-01,  -4.05256060e-01],
       [  7.30000000e-01,  -3.98958208e-01],
       [  7.32000000e-01,  -3.92691094e-01],
       [  7.34000000e-01,  -3.86455594e-01],
       [  7.36000000e-01,  -3.80252565e-01],
       [  7.38000000e-01,  -3.74082847e-01],
       [  7.40000000e-01,  -3.67947262e-01],
       [  7.42000000e-01,  -3.61846612e-01],
       [  7.44000000e-01,  -3.55781684e-01],
       [  7.46000000e-01,  -3.49753246e-01],
       [  7.48000000e-01,  -3.43762049e-01],
       [  7.50000000e-01,  -3.37808825e-01],
       [  7.52000000e-01,  -3.31894292e-01],
       [  7.54000000e-01,  -3.26019147e-01],
       [  7.56000000e-01,  -3.20184074e-01],
       [  7.58000000e-01,  -3.14389738e-01],
       [  7.60000000e-01,  -3.08636788e-01],
       [  7.62000000e-01,  -3.02925857e-01],
       [  7.64000000e-01,  -2.97257560e-01],
       [  7.66000000e-01,  -2.91632499e-01],
       [  7.68000000e-01,  -2.86051258e-01],
       [  7.70000000e-01,  -2.80514407e-01],
       [  7.72000000e-01,  -2.75022498e-01],
       [  7.74000000e-01,  -2.69576070e-01],
       [  7.76000000e-01,  -2.64175648e-01],
       [  7.78000000e-01,  -2.58821739e-01],
       [  7.80000000e-01,  -2.53514838e-01],
       [  7.82000000e-01,  -2.48255425e-01],
       [  7.84000000e-01,  -2.43043966e-01],
       [  7.86000000e-01,  -2.37880912e-01],
       [  7.88000000e-01,  -2.32766702e-01],
       [  7.90000000e-01,  -2.27701760e-01],
       [  7.92000000e-01,  -2.22686499e-01],
       [  7.94000000e-01,  -2.17721317e-01],
       [  7.96000000e-01,  -2.12806600e-01],
       [  7.98000000e-01,  -2.07942721e-01],
       [  8.00000000e-01,  -2.03130042e-01],
       [  8.02000000e-01,  -1.98368912e-01],
       [  8.04000000e-01,  -1.93659668e-01],
       [  8.06000000e-01,  -1.89002636e-01],
       [  8.08000000e-01,  -1.84398131e-01],
       [  8.10000000e-01,  -1.79846456e-01],
       [  8.12000000e-01,  -1.75347903e-01],
       [  8.14000000e-01,  -1.70902756e-01],
       [  8.16000000e-01,  -1.66511285e-01],
       [  8.18000000e-01,  -1.62173752e-01],
       [  8.20000000e-01,  -1.57890409e-01],
       [  8.22000000e-01,  -1.53661497e-01],
       [  8.24000000e-01,  -1.49487250e-01],
       [  8.26000000e-01,  -1.45367890e-01],
       [  8.28000000e-01,  -1.41303632e-01],
       [  8.30000000e-01,  -1.37294682e-01],
       [  8.32000000e-01,  -1.33341236e-01],
       [  8.34000000e-01,  -1.29443485e-01],
       [  8.36000000e-01,  -1.25601607e-01],
       [  8.38000000e-01,  -1.21815777e-01],
       [  8.40000000e-01,  -1.18086160e-01],
       [  8.42000000e-01,  -1.14412914e-01],
       [  8.44000000e-01,  -1.10796189e-01],
       [  8.46000000e-01,  -1.07236129e-01],
       [  8.48000000e-01,  -1.03732871e-01],
       [  8.50000000e-01,  -1.00286546e-01],
       [  8.52000000e-01,  -9.68972784e-02],
       [  8.54000000e-01,  -9.35651850e-02],
       [  8.56000000e-01,  -9.02903785e-02],
       [  8.58000000e-01,  -8.70729651e-02],
       [  8.60000000e-01,  -8.39130456e-02],
       [  8.62000000e-01,  -8.08107152e-02],
       [  8.64000000e-01,  -7.77660642e-02],
       [  8.66000000e-01,  -7.47791778e-02],
       [  8.68000000e-01,  -7.18501367e-02],
       [  8.70000000e-01,  -6.89790164e-02],
       [  8.72000000e-01,  -6.61658882e-02],
       [  8.74000000e-01,  -6.34108195e-02],
       [  8.76000000e-01,  -6.07138732e-02],
       [  8.78000000e-01,  -5.80751086e-02],
       [  8.80000000e-01,  -5.54945807e-02],
       [  8.82000000e-01,  -5.29723413e-02],
       [  8.84000000e-01,  -5.05084388e-02],
       [  8.86000000e-01,  -4.81029183e-02],
       [  8.88000000e-01,  -4.57558216e-02],
       [  8.90000000e-01,  -4.34671875e-02],
       [  8.92000000e-01,  -4.12370521e-02],
       [  8.94000000e-01,  -3.90654487e-02],
       [  8.96000000e-01,  -3.69524083e-02],
       [  8.98000000e-01,  -3.48979592e-02],
       [  9.00000000e-01,  -3.29021273e-02],
       [  9.02000000e-01,  -3.09649365e-02],
       [  9.04000000e-01,  -2.90864088e-02],
       [  9.06000000e-01,  -2.72665641e-02],
       [  9.08000000e-01,  -2.55054205e-02],
       [  9.10000000e-01,  -2.38029942e-02],
       [  9.12000000e-01,  -2.21593003e-02],
       [  9.14000000e-01,  -2.05743520e-02],
       [  9.16000000e-01,  -1.90481615e-02],
       [  9.18000000e-01,  -1.75807391e-02],
       [  9.20000000e-01,  -1.61720944e-02],
       [  9.22000000e-01,  -1.48222360e-02],
       [  9.24000000e-01,  -1.35311712e-02],
       [  9.26000000e-01,  -1.22989065e-02],
       [  9.28000000e-01,  -1.11254473e-02],
       [  9.30000000e-01,  -1.00107986e-02],
       [  9.32000000e-01,  -8.95496459e-03],
       [  9.34000000e-01,  -7.95794893e-03],
       [  9.36000000e-01,  -7.01975449e-03],
       [  9.38000000e-01,  -6.14038359e-03],
       [  9.40000000e-01,  -5.31983844e-03],
       [  9.42000000e-01,  -4.55812073e-03],
       [  9.44000000e-01,  -3.85523186e-03],
       [  9.46000000e-01,  -3.21117270e-03],
       [  9.48000000e-01,  -2.62594403e-03],
       [  9.50000000e-01,  -2.09954657e-03],
       [  9.52000000e-01,  -1.63198081e-03],
       [  9.54000000e-01,  -1.22324712e-03],
       [  9.56000000e-01,  -8.73345130e-04],
       [  9.58000000e-01,  -5.82275181e-04],
       [  9.60000000e-01,  -3.50037291e-04],
       [  9.62000000e-01,  -1.76631437e-04],
       [  9.64000000e-01,  -6.20575774e-05],
       [  9.66000000e-01,  -6.31567192e-06],
       [  9.68000000e-01,  -9.40568944e-06],
       [  9.70000000e-01,  -7.13276198e-05],
       [  9.72000000e-01,  -1.92081480e-04],
       [  9.74000000e-01,  -3.71667093e-04],
       [  9.76000000e-01,  -6.10084378e-04],
       [  9.78000000e-01,  -9.07333520e-04],
       [  9.80000000e-01,  -1.26341457e-03],
       [  9.82000000e-01,  -1.67832757e-03],
       [  9.84000000e-01,  -2.15207256e-03],
       [  9.86000000e-01,  -2.68464955e-03],
       [  9.88000000e-01,  -3.27605850e-03],
       [  9.90000000e-01,  -3.92629932e-03],
       [  9.92000000e-01,  -4.63537129e-03],
       [  9.94000000e-01,  -5.40326650e-03],
       [  9.96000000e-01,  -6.22998853e-03],
       [  9.98000000e-01,  -7.11553579e-03],
       [  1.00000000e+00,  -8.05990632e-03],
       [  1.00000000e+00,  -8.05990632e-03]] 
,
{
legend:"always",
labels:
['Time', 'body1.frame_b.r_0[2]']
}
)
</script>
<h2>
4
Computational Steering of a Pendulum through a PD controller
</h2>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">Another way to steer a joint is to set up a </span><span style=" font-family:'Times New Roman'; font-size:12pt; font-style:italic; color:#000000;">Proportional Derivative (PD) controller</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;">. Instead of computing angular position, the PD controller creates an active torque, which acts on the joint. It behaves like a motor; parameters </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">k</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> and </span><span style=" font-family:'Courier New'; font-size:12pt; color:#000000;">d</span><span style=" font-family:'Times New Roman'; font-size:12pt; color:#000000;"> can be tuned in order to adjust the reaction speed and power.</span></p><br>
<textarea id=check10textarea>
model RotationalPDController "Input signal acting as reference value for
    angle, gives external torque on a flange"
   import Modelica.Blocks;
   import Modelica.Mechanics.Rotational;
   parameter Real k=1;
   parameter Real d=1;
   Blocks.Interfaces.RealInput u;
   Rotational.Interfaces.Flange_b flange_b;
equation
   flange_b.tau = k*(flange_b.phi-u)+d*der(flange_b.phi);
end RotationalPDController;
</textarea>  <div id=check10div> </div> <br>
<textarea id=check11textarea>
model PendulumWithPDController
  import Modelica.Mechanics.MultiBody.Parts;
  import Modelica.Mechanics.MultiBody.Joints;
  import Modelica.Blocks.Sources;
  inner Modelica.Mechanics.MultiBody.World world;
  Parts.BodyCylinder body1(r={1,0,0},diameter=0.2);
  Joints.Revolute revolute1;
  Sources.Step step1(startTime=0.5);
  RotationalPDController ctrl(k=5000,d=500);
equation
  connect(revolute1.frame_b, body1.frame_a);
  connect(step1.y, ctrl.u);
  connect(ctrl.flange_b, revolute1.axis);
  connect(world.frame_b, revolute1.frame_a);
end PendulumWithPDController;  
</textarea>  <div id=check11div> </div> <br>
<textarea id=check12textarea>
loadModel(Modelica)
</textarea>  <div id=check12div> </div> <br>
<textarea id=check13textarea>
simulate(PendulumWithPDController)
</textarea>  <div id=check13div> </div> <br>
<textarea id=check14textarea>
plot(body1.frame_b.r_0[2])
</textarea> <br> <div id=check14div> </div> <br>
<script type="text/javascript">
g = new Dygraph(document.getElementById("check14div"),
  [[  0.00000000e+00,   0.00000000e+00],
       [  2.00000000e-03,  -2.92109189e-05],
       [  4.00000000e-03,  -1.16843673e-04],
       [  6.00000000e-03,  -2.62898257e-04],
       [  8.00000000e-03,  -4.67374657e-04],
       [  1.00000000e-02,  -7.30272780e-04],
       [  1.20000000e-02,  -1.05159260e-03],
       [  1.40000000e-02,  -1.43133404e-03],
       [  1.60000000e-02,  -1.86949683e-03],
       [  1.80000000e-02,  -2.36608026e-03],
       [  2.00000000e-02,  -2.92108436e-03],
       [  2.20000000e-02,  -3.53450871e-03],
       [  2.40000000e-02,  -4.20635272e-03],
       [  2.60000000e-02,  -4.93661562e-03],
       [  2.80000000e-02,  -5.72529145e-03],
       [  3.00000000e-02,  -6.57238155e-03],
       [  3.20000000e-02,  -7.47788498e-03],
       [  3.40000000e-02,  -8.44179989e-03],
       [  3.60000000e-02,  -9.46412402e-03],
       [  3.80000000e-02,  -1.05448528e-02],
       [  4.00000000e-02,  -1.16839822e-02],
       [  4.20000000e-02,  -1.28815101e-02],
       [  4.40000000e-02,  -1.41374321e-02],
       [  4.60000000e-02,  -1.54517433e-02],
       [  4.80000000e-02,  -1.68244279e-02],
       [  5.00000000e-02,  -1.82554809e-02],
       [  5.20000000e-02,  -1.97448985e-02],
       [  5.40000000e-02,  -2.12926724e-02],
       [  5.60000000e-02,  -2.28987932e-02],
       [  5.80000000e-02,  -2.45632271e-02],
       [  6.00000000e-02,  -2.62859748e-02],
       [  6.20000000e-02,  -2.80670255e-02],
       [  6.40000000e-02,  -2.99063652e-02],
       [  6.60000000e-02,  -3.18039542e-02],
       [  6.80000000e-02,  -3.37597869e-02],
       [  7.00000000e-02,  -3.57738464e-02],
       [  7.20000000e-02,  -3.78461036e-02],
       [  7.40000000e-02,  -3.99765184e-02],
       [  7.60000000e-02,  -4.21650797e-02],
       [  7.80000000e-02,  -4.44117584e-02],
       [  8.00000000e-02,  -4.67164962e-02],
       [  8.20000000e-02,  -4.90792791e-02],
       [  8.40000000e-02,  -5.15000675e-02],
       [  8.60000000e-02,  -5.39787943e-02],
       [  8.80000000e-02,  -5.65154387e-02],
       [  9.00000000e-02,  -5.91099496e-02],
       [  9.20000000e-02,  -6.17622561e-02],
       [  9.40000000e-02,  -6.44723276e-02],
       [  9.60000000e-02,  -6.72400829e-02],
       [  9.80000000e-02,  -7.00654629e-02],
       [  1.00000000e-01,  -7.29484174e-02],
       [  1.02000000e-01,  -7.58888351e-02],
       [  1.04000000e-01,  -7.88866759e-02],
       [  1.06000000e-01,  -8.19418473e-02],
       [  1.08000000e-01,  -8.50542484e-02],
       [  1.10000000e-01,  -8.82238172e-02],
       [  1.12000000e-01,  -9.14504170e-02],
       [  1.14000000e-01,  -9.47339873e-02],
       [  1.16000000e-01,  -9.80743903e-02],
       [  1.18000000e-01,  -1.01471529e-01],
       [  1.20000000e-01,  -1.04925288e-01],
       [  1.22000000e-01,  -1.08435520e-01],
       [  1.24000000e-01,  -1.12002136e-01],
       [  1.26000000e-01,  -1.15624955e-01],
       [  1.28000000e-01,  -1.19303852e-01],
       [  1.30000000e-01,  -1.23038679e-01],
       [  1.32000000e-01,  -1.26829283e-01],
       [  1.34000000e-01,  -1.30675492e-01],
       [  1.36000000e-01,  -1.34577113e-01],
       [  1.38000000e-01,  -1.38533983e-01],
       [  1.40000000e-01,  -1.42545918e-01],
       [  1.42000000e-01,  -1.46612725e-01],
       [  1.44000000e-01,  -1.50734176e-01],
       [  1.46000000e-01,  -1.54910054e-01],
       [  1.48000000e-01,  -1.59140154e-01],
       [  1.50000000e-01,  -1.63424250e-01],
       [  1.52000000e-01,  -1.67762090e-01],
       [  1.54000000e-01,  -1.72153406e-01],
       [  1.56000000e-01,  -1.76597959e-01],
       [  1.58000000e-01,  -1.81095485e-01],
       [  1.60000000e-01,  -1.85645701e-01],
       [  1.62000000e-01,  -1.90248273e-01],
       [  1.64000000e-01,  -1.94902931e-01],
       [  1.66000000e-01,  -1.99609366e-01],
       [  1.68000000e-01,  -2.04367263e-01],
       [  1.70000000e-01,  -2.09176230e-01],
       [  1.72000000e-01,  -2.14035952e-01],
       [  1.74000000e-01,  -2.18946075e-01],
       [  1.76000000e-01,  -2.23906237e-01],
       [  1.78000000e-01,  -2.28916016e-01],
       [  1.80000000e-01,  -2.33975020e-01],
       [  1.82000000e-01,  -2.39082858e-01],
       [  1.84000000e-01,  -2.44239114e-01],
       [  1.86000000e-01,  -2.49443339e-01],
       [  1.88000000e-01,  -2.54695057e-01],
       [  1.90000000e-01,  -2.59993821e-01],
       [  1.92000000e-01,  -2.65339154e-01],
       [  1.94000000e-01,  -2.70730563e-01],
       [  1.96000000e-01,  -2.76167543e-01],
       [  1.98000000e-01,  -2.81649574e-01],
       [  2.00000000e-01,  -2.87176121e-01],
       [  2.02000000e-01,  -2.92746634e-01],
       [  2.04000000e-01,  -2.98360544e-01],
       [  2.06000000e-01,  -3.04017273e-01],
       [  2.08000000e-01,  -3.09716226e-01],
       [  2.10000000e-01,  -3.15456792e-01],
       [  2.12000000e-01,  -3.21238331e-01],
       [  2.14000000e-01,  -3.27060199e-01],
       [  2.16000000e-01,  -3.32921735e-01],
       [  2.18000000e-01,  -3.38822260e-01],
       [  2.20000000e-01,  -3.44761079e-01],
       [  2.22000000e-01,  -3.50737479e-01],
       [  2.24000000e-01,  -3.56750731e-01],
       [  2.26000000e-01,  -3.62800088e-01],
       [  2.28000000e-01,  -3.68884793e-01],
       [  2.30000000e-01,  -3.75004073e-01],
       [  2.32000000e-01,  -3.81157125e-01],
       [  2.34000000e-01,  -3.87343137e-01],
       [  2.36000000e-01,  -3.93561277e-01],
       [  2.38000000e-01,  -3.99810699e-01],
       [  2.40000000e-01,  -4.06090538e-01],
       [  2.42000000e-01,  -4.12399909e-01],
       [  2.44000000e-01,  -4.18737854e-01],
       [  2.46000000e-01,  -4.25103488e-01],
       [  2.48000000e-01,  -4.31495869e-01],
       [  2.50000000e-01,  -4.37914039e-01],
       [  2.52000000e-01,  -4.44357021e-01],
       [  2.54000000e-01,  -4.50823822e-01],
       [  2.56000000e-01,  -4.57313429e-01],
       [  2.58000000e-01,  -4.63824791e-01],
       [  2.60000000e-01,  -4.70356863e-01],
       [  2.62000000e-01,  -4.76908581e-01],
       [  2.64000000e-01,  -4.83478860e-01],
       [  2.66000000e-01,  -4.90066596e-01],
       [  2.68000000e-01,  -4.96670667e-01],
       [  2.70000000e-01,  -5.03289933e-01],
       [  2.72000000e-01,  -5.09923224e-01],
       [  2.74000000e-01,  -5.16569347e-01],
       [  2.76000000e-01,  -5.23227122e-01],
       [  2.78000000e-01,  -5.29895338e-01],
       [  2.80000000e-01,  -5.36572765e-01],
       [  2.82000000e-01,  -5.43258157e-01],
       [  2.84000000e-01,  -5.49950250e-01],
       [  2.86000000e-01,  -5.56647761e-01],
       [  2.88000000e-01,  -5.63349370e-01],
       [  2.90000000e-01,  -5.70053779e-01],
       [  2.92000000e-01,  -5.76759656e-01],
       [  2.94000000e-01,  -5.83465654e-01],
       [  2.96000000e-01,  -5.90170412e-01],
       [  2.98000000e-01,  -5.96872551e-01],
       [  3.00000000e-01,  -6.03570680e-01],
       [  3.02000000e-01,  -6.10263370e-01],
       [  3.04000000e-01,  -6.16949206e-01],
       [  3.06000000e-01,  -6.23626754e-01],
       [  3.08000000e-01,  -6.30294563e-01],
       [  3.10000000e-01,  -6.36951168e-01],
       [  3.12000000e-01,  -6.43595093e-01],
       [  3.14000000e-01,  -6.50224846e-01],
       [  3.16000000e-01,  -6.56838920e-01],
       [  3.18000000e-01,  -6.63435798e-01],
       [  3.20000000e-01,  -6.70013957e-01],
       [  3.22000000e-01,  -6.76571860e-01],
       [  3.24000000e-01,  -6.83107959e-01],
       [  3.26000000e-01,  -6.89620697e-01],
       [  3.28000000e-01,  -6.96108507e-01],
       [  3.30000000e-01,  -7.02569813e-01],
       [  3.32000000e-01,  -7.09003031e-01],
       [  3.34000000e-01,  -7.15406568e-01],
       [  3.36000000e-01,  -7.21778826e-01],
       [  3.38000000e-01,  -7.28118199e-01],
       [  3.40000000e-01,  -7.34423076e-01],
       [  3.42000000e-01,  -7.40691839e-01],
       [  3.44000000e-01,  -7.46922866e-01],
       [  3.46000000e-01,  -7.53114542e-01],
       [  3.48000000e-01,  -7.59265233e-01],
       [  3.50000000e-01,  -7.65373309e-01],
       [  3.52000000e-01,  -7.71437137e-01],
       [  3.54000000e-01,  -7.77455083e-01],
       [  3.56000000e-01,  -7.83425513e-01],
       [  3.58000000e-01,  -7.89346794e-01],
       [  3.60000000e-01,  -7.95217295e-01],
       [  3.62000000e-01,  -8.01035387e-01],
       [  3.64000000e-01,  -8.06799440e-01],
       [  3.66000000e-01,  -8.12507829e-01],
       [  3.68000000e-01,  -8.18158935e-01],
       [  3.70000000e-01,  -8.23751141e-01],
       [  3.72000000e-01,  -8.29282839e-01],
       [  3.74000000e-01,  -8.34752426e-01],
       [  3.76000000e-01,  -8.40158311e-01],
       [  3.78000000e-01,  -8.45498903e-01],
       [  3.80000000e-01,  -8.50772626e-01],
       [  3.82000000e-01,  -8.55977911e-01],
       [  3.84000000e-01,  -8.61113201e-01],
       [  3.86000000e-01,  -8.66176950e-01],
       [  3.88000000e-01,  -8.71167625e-01],
       [  3.90000000e-01,  -8.76083710e-01],
       [  3.92000000e-01,  -8.80923697e-01],
       [  3.94000000e-01,  -8.85686097e-01],
       [  3.96000000e-01,  -8.90369433e-01],
       [  3.98000000e-01,  -8.94972249e-01],
       [  4.00000000e-01,  -8.99493104e-01],
       [  4.02000000e-01,  -9.03930576e-01],
       [  4.04000000e-01,  -9.08283264e-01],
       [  4.06000000e-01,  -9.12549785e-01],
       [  4.08000000e-01,  -9.16728778e-01],
       [  4.10000000e-01,  -9.20818902e-01],
       [  4.12000000e-01,  -9.24818840e-01],
       [  4.14000000e-01,  -9.28727298e-01],
       [  4.16000000e-01,  -9.32543005e-01],
       [  4.18000000e-01,  -9.36264719e-01],
       [  4.20000000e-01,  -9.39891222e-01],
       [  4.22000000e-01,  -9.43421320e-01],
       [  4.24000000e-01,  -9.46853846e-01],
       [  4.26000000e-01,  -9.50187666e-01],
       [  4.28000000e-01,  -9.53421669e-01],
       [  4.30000000e-01,  -9.56554776e-01],
       [  4.32000000e-01,  -9.59585939e-01],
       [  4.34000000e-01,  -9.62514142e-01],
       [  4.36000000e-01,  -9.65338397e-01],
       [  4.38000000e-01,  -9.68057749e-01],
       [  4.40000000e-01,  -9.70671277e-01],
       [  4.42000000e-01,  -9.73178094e-01],
       [  4.44000000e-01,  -9.75577343e-01],
       [  4.46000000e-01,  -9.77868207e-01],
       [  4.48000000e-01,  -9.80049903e-01],
       [  4.50000000e-01,  -9.82121681e-01],
       [  4.52000000e-01,  -9.84082828e-01],
       [  4.54000000e-01,  -9.85932670e-01],
       [  4.56000000e-01,  -9.87670566e-01],
       [  4.58000000e-01,  -9.89295916e-01],
       [  4.60000000e-01,  -9.90808156e-01],
       [  4.62000000e-01,  -9.92206763e-01],
       [  4.64000000e-01,  -9.93491250e-01],
       [  4.66000000e-01,  -9.94661170e-01],
       [  4.68000000e-01,  -9.95716115e-01],
       [  4.70000000e-01,  -9.96655718e-01],
       [  4.72000000e-01,  -9.97479650e-01],
       [  4.74000000e-01,  -9.98187623e-01],
       [  4.76000000e-01,  -9.98779390e-01],
       [  4.78000000e-01,  -9.99254744e-01],
       [  4.80000000e-01,  -9.99613519e-01],
       [  4.82000000e-01,  -9.99855588e-01],
       [  4.84000000e-01,  -9.99980867e-01],
       [  4.86000000e-01,  -9.99989312e-01],
       [  4.88000000e-01,  -9.99880920e-01],
       [  4.90000000e-01,  -9.99655729e-01],
       [  4.92000000e-01,  -9.99313818e-01],
       [  4.94000000e-01,  -9.98855307e-01],
       [  4.96000000e-01,  -9.98280357e-01],
       [  4.98000000e-01,  -9.97589168e-01],
       [  5.00000000e-01,  -9.96781983e-01],
       [  5.00000000e-01,  -9.96781983e-01],
       [  5.00000000e-01,  -9.96781983e-01],
       [  5.02000000e-01,  -9.95859085e-01],
       [  5.04000000e-01,  -9.94820802e-01],
       [  5.06000000e-01,  -9.93667491e-01],
       [  5.08000000e-01,  -9.92399557e-01],
       [  5.10000000e-01,  -9.91017433e-01],
       [  5.12000000e-01,  -9.89521596e-01],
       [  5.14000000e-01,  -9.87912568e-01],
       [  5.16000000e-01,  -9.86190910e-01],
       [  5.18000000e-01,  -9.84357218e-01],
       [  5.20000000e-01,  -9.82412128e-01],
       [  5.22000000e-01,  -9.80356306e-01],
       [  5.24000000e-01,  -9.78190462e-01],
       [  5.26000000e-01,  -9.75915341e-01],
       [  5.28000000e-01,  -9.73531717e-01],
       [  5.30000000e-01,  -9.71040408e-01],
       [  5.32000000e-01,  -9.68442263e-01],
       [  5.34000000e-01,  -9.65738164e-01],
       [  5.36000000e-01,  -9.62929027e-01],
       [  5.38000000e-01,  -9.60015803e-01],
       [  5.40000000e-01,  -9.56999473e-01],
       [  5.42000000e-01,  -9.53881052e-01],
       [  5.44000000e-01,  -9.50661583e-01],
       [  5.46000000e-01,  -9.47342140e-01],
       [  5.48000000e-01,  -9.43923829e-01],
       [  5.50000000e-01,  -9.40407782e-01],
       [  5.52000000e-01,  -9.36795159e-01],
       [  5.54000000e-01,  -9.33087150e-01],
       [  5.56000000e-01,  -9.29284969e-01],
       [  5.58000000e-01,  -9.25389857e-01],
       [  5.60000000e-01,  -9.21403081e-01],
       [  5.62000000e-01,  -9.17325931e-01],
       [  5.64000000e-01,  -9.13159720e-01],
       [  5.66000000e-01,  -9.08905786e-01],
       [  5.68000000e-01,  -9.04565487e-01],
       [  5.70000000e-01,  -9.00140201e-01],
       [  5.72000000e-01,  -8.95631328e-01],
       [  5.74000000e-01,  -8.91040287e-01],
       [  5.76000000e-01,  -8.86368517e-01],
       [  5.78000000e-01,  -8.81617471e-01],
       [  5.80000000e-01,  -8.76788622e-01],
       [  5.82000000e-01,  -8.71883459e-01],
       [  5.84000000e-01,  -8.66903485e-01],
       [  5.86000000e-01,  -8.61850219e-01],
       [  5.88000000e-01,  -8.56725193e-01],
       [  5.90000000e-01,  -8.51529949e-01],
       [  5.92000000e-01,  -8.46266038e-01],
       [  5.94000000e-01,  -8.40935031e-01],
       [  5.96000000e-01,  -8.35538504e-01],
       [  5.98000000e-01,  -8.30078043e-01],
       [  6.00000000e-01,  -8.24555242e-01],
       [  6.02000000e-01,  -8.18971700e-01],
       [  6.04000000e-01,  -8.13329027e-01],
       [  6.06000000e-01,  -8.07628838e-01],
       [  6.08000000e-01,  -8.01872754e-01],
       [  6.10000000e-01,  -7.96062397e-01],
       [  6.12000000e-01,  -7.90199391e-01],
       [  6.14000000e-01,  -7.84285369e-01],
       [  6.16000000e-01,  -7.78321964e-01],
       [  6.18000000e-01,  -7.72310808e-01],
       [  6.20000000e-01,  -7.66253535e-01],
       [  6.22000000e-01,  -7.60151777e-01],
       [  6.24000000e-01,  -7.54007167e-01],
       [  6.26000000e-01,  -7.47821336e-01],
       [  6.28000000e-01,  -7.41595914e-01],
       [  6.30000000e-01,  -7.35332523e-01],
       [  6.32000000e-01,  -7.29032785e-01],
       [  6.34000000e-01,  -7.22698317e-01],
       [  6.36000000e-01,  -7.16330731e-01],
       [  6.38000000e-01,  -7.09931633e-01],
       [  6.40000000e-01,  -7.03502623e-01],
       [  6.42000000e-01,  -6.97045293e-01],
       [  6.44000000e-01,  -6.90561228e-01],
       [  6.46000000e-01,  -6.84052004e-01],
       [  6.48000000e-01,  -6.77519191e-01],
       [  6.50000000e-01,  -6.70964347e-01],
       [  6.52000000e-01,  -6.64389021e-01],
       [  6.54000000e-01,  -6.57794753e-01],
       [  6.56000000e-01,  -6.51183069e-01],
       [  6.58000000e-01,  -6.44555486e-01],
       [  6.60000000e-01,  -6.37913510e-01],
       [  6.62000000e-01,  -6.31258634e-01],
       [  6.64000000e-01,  -6.24592337e-01],
       [  6.66000000e-01,  -6.17916088e-01],
       [  6.68000000e-01,  -6.11231339e-01],
       [  6.70000000e-01,  -6.04539530e-01],
       [  6.72000000e-01,  -5.97842089e-01],
       [  6.74000000e-01,  -5.91140425e-01],
       [  6.76000000e-01,  -5.84435936e-01],
       [  6.78000000e-01,  -5.77730003e-01],
       [  6.80000000e-01,  -5.71023991e-01],
       [  6.82000000e-01,  -5.64319251e-01],
       [  6.84000000e-01,  -5.57617117e-01],
       [  6.86000000e-01,  -5.50918907e-01],
       [  6.88000000e-01,  -5.44225922e-01],
       [  6.90000000e-01,  -5.37539446e-01],
       [  6.92000000e-01,  -5.30860749e-01],
       [  6.94000000e-01,  -5.24191080e-01],
       [  6.96000000e-01,  -5.17531672e-01],
       [  6.98000000e-01,  -5.10883742e-01],
       [  7.00000000e-01,  -5.04248487e-01],
       [  7.02000000e-01,  -4.97627089e-01],
       [  7.04000000e-01,  -4.91020710e-01],
       [  7.06000000e-01,  -4.84430494e-01],
       [  7.08000000e-01,  -4.77857568e-01],
       [  7.10000000e-01,  -4.71303040e-01],
       [  7.12000000e-01,  -4.64768003e-01],
       [  7.14000000e-01,  -4.58253526e-01],
       [  7.16000000e-01,  -4.51760665e-01],
       [  7.18000000e-01,  -4.45290455e-01],
       [  7.20000000e-01,  -4.38843912e-01],
       [  7.22000000e-01,  -4.32422037e-01],
       [  7.24000000e-01,  -4.26025810e-01],
       [  7.26000000e-01,  -4.19656192e-01],
       [  7.28000000e-01,  -4.13314129e-01],
       [  7.30000000e-01,  -4.07000545e-01],
       [  7.32000000e-01,  -4.00716349e-01],
       [  7.34000000e-01,  -3.94462430e-01],
       [  7.36000000e-01,  -3.88239660e-01],
       [  7.38000000e-01,  -3.82048892e-01],
       [  7.40000000e-01,  -3.75890963e-01],
       [  7.42000000e-01,  -3.69766690e-01],
       [  7.44000000e-01,  -3.63676873e-01],
       [  7.46000000e-01,  -3.57622296e-01],
       [  7.48000000e-01,  -3.51603722e-01],
       [  7.50000000e-01,  -3.45621902e-01],
       [  7.52000000e-01,  -3.39677567e-01],
       [  7.54000000e-01,  -3.33771429e-01],
       [  7.56000000e-01,  -3.27904186e-01],
       [  7.58000000e-01,  -3.22076519e-01],
       [  7.60000000e-01,  -3.16289091e-01],
       [  7.62000000e-01,  -3.10542549e-01],
       [  7.64000000e-01,  -3.04837526e-01],
       [  7.66000000e-01,  -2.99174637e-01],
       [  7.68000000e-01,  -2.93554481e-01],
       [  7.70000000e-01,  -2.87977643e-01],
       [  7.72000000e-01,  -2.82444690e-01],
       [  7.74000000e-01,  -2.76956175e-01],
       [  7.76000000e-01,  -2.71512638e-01],
       [  7.78000000e-01,  -2.66114601e-01],
       [  7.80000000e-01,  -2.60762573e-01],
       [  7.82000000e-01,  -2.55457048e-01],
       [  7.84000000e-01,  -2.50198506e-01],
       [  7.86000000e-01,  -2.44987413e-01],
       [  7.88000000e-01,  -2.39824222e-01],
       [  7.90000000e-01,  -2.34709372e-01],
       [  7.92000000e-01,  -2.29643287e-01],
       [  7.94000000e-01,  -2.24626380e-01],
       [  7.96000000e-01,  -2.19659051e-01],
       [  7.98000000e-01,  -2.14741686e-01],
       [  8.00000000e-01,  -2.09874659e-01],
       [  8.02000000e-01,  -2.05058333e-01],
       [  8.04000000e-01,  -2.00293059e-01],
       [  8.06000000e-01,  -1.95579174e-01],
       [  8.08000000e-01,  -1.90917006e-01],
       [  8.10000000e-01,  -1.86306870e-01],
       [  8.12000000e-01,  -1.81749072e-01],
       [  8.14000000e-01,  -1.77243905e-01],
       [  8.16000000e-01,  -1.72791653e-01],
       [  8.18000000e-01,  -1.68392589e-01],
       [  8.20000000e-01,  -1.64046976e-01],
       [  8.22000000e-01,  -1.59755068e-01],
       [  8.24000000e-01,  -1.55517107e-01],
       [  8.26000000e-01,  -1.51333328e-01],
       [  8.28000000e-01,  -1.47203957e-01],
       [  8.30000000e-01,  -1.43129209e-01],
       [  8.32000000e-01,  -1.39109291e-01],
       [  8.34000000e-01,  -1.35144404e-01],
       [  8.36000000e-01,  -1.31234737e-01],
       [  8.38000000e-01,  -1.27380472e-01],
       [  8.40000000e-01,  -1.23581784e-01],
       [  8.42000000e-01,  -1.19838841e-01],
       [  8.44000000e-01,  -1.16151802e-01],
       [  8.46000000e-01,  -1.12520820e-01],
       [  8.48000000e-01,  -1.08946041e-01],
       [  8.50000000e-01,  -1.05427604e-01],
       [  8.52000000e-01,  -1.01965639e-01],
       [  8.54000000e-01,  -9.85602730e-02],
       [  8.56000000e-01,  -9.52116258e-02],
       [  8.58000000e-01,  -9.19198112e-02],
       [  8.60000000e-01,  -8.86849375e-02],
       [  8.62000000e-01,  -8.55071070e-02],
       [  8.64000000e-01,  -8.23864170e-02],
       [  8.66000000e-01,  -7.93229585e-02],
       [  8.68000000e-01,  -7.63168179e-02],
       [  8.70000000e-01,  -7.33680778e-02],
       [  8.72000000e-01,  -7.04768159e-02],
       [  8.74000000e-01,  -6.76431050e-02],
       [  8.76000000e-01,  -6.48670138e-02],
       [  8.78000000e-01,  -6.21486072e-02],
       [  8.80000000e-01,  -5.94879452e-02],
       [  8.82000000e-01,  -5.68850833e-02],
       [  8.84000000e-01,  -5.43400757e-02],
       [  8.86000000e-01,  -5.18529720e-02],
       [  8.88000000e-01,  -4.94238189e-02],
       [  8.90000000e-01,  -4.70526594e-02],
       [  8.92000000e-01,  -4.47395341e-02],
       [  8.94000000e-01,  -4.24844803e-02],
       [  8.96000000e-01,  -4.02875300e-02],
       [  8.98000000e-01,  -3.81487168e-02],
       [  9.00000000e-01,  -3.60680701e-02],
       [  9.02000000e-01,  -3.40456173e-02],
       [  9.04000000e-01,  -3.20813834e-02],
       [  9.06000000e-01,  -3.01753914e-02],
       [  9.08000000e-01,  -2.83276624e-02],
       [  9.10000000e-01,  -2.65382133e-02],
       [  9.12000000e-01,  -2.48070619e-02],
       [  9.14000000e-01,  -2.31342244e-02],
       [  9.16000000e-01,  -2.15197150e-02],
       [  9.18000000e-01,  -1.99635465e-02],
       [  9.20000000e-01,  -1.84657304e-02],
       [  9.22000000e-01,  -1.70262770e-02],
       [  9.24000000e-01,  -1.56451934e-02],
       [  9.26000000e-01,  -1.43224861e-02],
       [  9.28000000e-01,  -1.30581633e-02],
       [  9.30000000e-01,  -1.18522309e-02],
       [  9.32000000e-01,  -1.07046939e-02],
       [  9.34000000e-01,  -9.61555664e-03],
       [  9.36000000e-01,  -8.58482272e-03],
       [  9.38000000e-01,  -7.61249524e-03],
       [  9.40000000e-01,  -6.69857674e-03],
       [  9.42000000e-01,  -5.84306936e-03],
       [  9.44000000e-01,  -5.04597484e-03],
       [  9.46000000e-01,  -4.30729462e-03],
       [  9.48000000e-01,  -3.62702988e-03],
       [  9.50000000e-01,  -3.00518162e-03],
       [  9.52000000e-01,  -2.44175067e-03],
       [  9.54000000e-01,  -1.93673726e-03],
       [  9.56000000e-01,  -1.49014239e-03],
       [  9.58000000e-01,  -1.10196673e-03],
       [  9.60000000e-01,  -7.72210955e-04],
       [  9.62000000e-01,  -5.00875827e-04],
       [  9.64000000e-01,  -2.87962197e-04],
       [  9.66000000e-01,  -1.33471054e-04],
       [  9.68000000e-01,  -3.74035513e-05],
       [  9.70000000e-01,   2.38970376e-07],
       [  9.72000000e-01,  -2.05450413e-05],
       [  9.74000000e-01,  -9.97573693e-05],
       [  9.76000000e-01,  -2.37400044e-04],
       [  9.78000000e-01,  -4.33475357e-04],
       [  9.80000000e-01,  -6.87937787e-04],
       [  9.82000000e-01,  -1.00081311e-03],
       [  9.84000000e-01,  -1.37210801e-03],
       [  9.86000000e-01,  -1.80182252e-03],
       [  9.88000000e-01,  -2.28995670e-03],
       [  9.90000000e-01,  -2.83651054e-03],
       [  9.92000000e-01,  -3.44148405e-03],
       [  9.94000000e-01,  -4.10487713e-03],
       [  9.96000000e-01,  -4.82668962e-03],
       [  9.98000000e-01,  -5.60692124e-03],
       [  1.00000000e+00,  -6.44557157e-03],
       [  1.00000000e+00,  -6.44557157e-03]] 
,
{
legend:"always",
labels:
['Time', 'body1.frame_b.r_0[2]']
}
)
</script>
</div></body></html>